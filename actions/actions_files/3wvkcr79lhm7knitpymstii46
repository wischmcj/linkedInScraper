!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=128)}({128:function(e,t,n){"use strict";n.r(t);var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e),this.EventType={};this.EventType[this.EventType.DomContentLoaded=0]="DomContentLoaded";this.EventType[this.EventType.Load=1]="Load";this.EventType[this.EventType.FullSnapshot=2]="FullSnapshot";this.EventType[this.EventType.IncrementalSnapshot=3]="IncrementalSnapshot";this.EventType[this.EventType.Meta=4]="Meta";this.EventType[this.EventType.Global=5]="Global",this.IncrementalSource={};this.IncrementalSource[this.IncrementalSource.MouseMove=1]="MouseMove";this.IncrementalSource[this.IncrementalSource.MouseInteraction=2]="MouseInteraction";this.IncrementalSource[this.IncrementalSource.Scroll=3]="Scroll";this.IncrementalSource[this.IncrementalSource.ViewportResize=4]="ViewportResize";this.IncrementalSource[this.IncrementalSource.Input=5]="Input";this.IncrementalSource[this.IncrementalSource.TouchMove=6]="TouchMove",this.MouseInteractions={};this.MouseInteractions[this.MouseInteractions.MouseUp=0]="MouseUp";this.MouseInteractions[this.MouseInteractions.MouseDown=1]="MouseDown";this.MouseInteractions[this.MouseInteractions.Click=2]="Click";this.MouseInteractions[this.MouseInteractions.ContextMenu=3]="ContextMenu";this.MouseInteractions[this.MouseInteractions.DblClick=4]="DblClick";this.MouseInteractions[this.MouseInteractions.Focus=5]="Focus";this.MouseInteractions[this.MouseInteractions.Blur=6]="Blur";this.MouseInteractions[this.MouseInteractions.TouchStart=7]="TouchStart";this.MouseInteractions[this.MouseInteractions.touchEnd=8]="touchEnd",this.isCtrlDown=!1}return r(e,[{key:"_assign",value:function(){var e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};return e.apply(this,arguments)}},{key:"_spread",value:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(arguments[t]);return e}},{key:"hookSetter",value:function(e,t,n,o){var r=Object.getOwnPropertyDescriptor(e,t),i=this;return Object.defineProperty(e,t,o?n:{set:function(e){var t=this;setTimeout((function(){n.set.call(t,e)}),0),r&&r.set&&r.set.call(t,e)}}),function(){return i.hookSetter(e,t,r||{},!0)}}},{key:"on",value:function(e,t,n){null==n&&(n=document);var o={capture:!0,passive:!0};return n.addEventListener(e,t,o),function(){return n.removeEventListener(e,t,o)}}},{key:"throttle",value:function(e,t,n){null==n&&(n={});var o=null,r=0;return function(i){var s=Date.now();r||!1!==n.leading||(r=s);var a=t-(s-r),u=this,c=arguments;a<=0||a>t?(o&&(window.clearTimeout(o),o=null),r=s,e.apply(u,c)):o||!1===n.trailing||(o=window.setTimeout((function(){r=!1===n.leading?0:Date.now(),o=null,e.apply(u,c)}),a))}}},{key:"getWindowHeight",value:function(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}},{key:"getWindowWidth",value:function(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}},{key:"isTouchEvent",value:function(e){return Boolean(e.changedTouches)}},{key:"polyfill",value:function(){"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)}},{key:"convertObjectChildrenToString",value:function(e){var t={};return e&&Object.keys(e).forEach((function(n){try{e[n]&&(t[n]=e[n].toString())}catch(e){}})),t}},{key:"initKeyboardObserver",value:function(e){var t=this;function n(e){(void 0===e.key||"meta"!==e.key.toLowerCase()&&"control"!==e.key.toLowerCase())&&(void 0===e.keyCode||91!==e.keyCode&&17!==e.keyCode)||(t.isCtrlDown=!1)}function o(n){var o=!1,r=!1,i=!1;if(t.isCtrlDown)if(void 0!==n.key){var s=n.key.toLowerCase();"x"===s&&(o=!0),"c"===s?r=!0:"v"===s&&(i=!0)}else void 0!==n.keyCode&&(88===keyPressed&&(o=!0),67===keyPressed?r=!0:86===keyPressed&&(i=!0));else(void 0===n.key||"meta"!==n.key.toLowerCase()&&"control"!==n.key.toLowerCase())&&(void 0===n.keyCode||91!==n.keyCode&&17!==n.keyCode)||(t.isCtrlDown=!0);var a=n.target.classList;void 0===a&&(a={}),a=JSON.parse(JSON.stringify(a)),e({inputClassList:a,isCut:o,isCopy:r,isPaste:i})}var r=["keydown","keyup"].map((function(e){return"keydown"===e?t.on(e,o):t.on(e,n)})),i=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),s=[[HTMLInputElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"]];return i&&i.set&&r.push.apply(r,t._spread(s.map((function(e){return t.hookSetter(e[0],e[1],{set:function(){eventHandler({target:this})}})})))),function(){r.forEach((function(e){return e()}))}}},{key:"initMoveObserver",value:function(e,t){var n=[],o=void 0,r=this,i=r.throttle((function(t){var i=Date.now()-o;e(n.map((function(e){return e.timeOffset-=i,e})),t?r.IncrementalSource.TouchMove:r.IncrementalSource.MouseMove),n=[],o=null}),500),s=r.throttle((function(e){var t=r.isTouchEvent(e)?e.changedTouches[0]:e,s=t.clientX,a=t.clientY;o||(o=Date.now()),n.push({x:s,y:a,timeOffset:Date.now()-o}),i(r.isTouchEvent(e))}),t,{trailing:!1}),a=[r.on("mousemove",s),r.on("touchmove",s)];return function(){a.forEach((function(e){return e()}))}}},{key:"initMouseInteractionObserver",value:function(e){var t=this,n=[];return Object.keys(t.MouseInteractions).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")})).forEach((function(o){var r=o.toLowerCase(),i=function(n){return function(o){var r=t.isTouchEvent(o)?o.changedTouches[0]:o,i=r.clientX,s=r.clientY;e({type:t.MouseInteractions[n],x:i,y:s})}}(o);n.push(t.on(r,i))})),function(){n.forEach((function(e){return e()}))}}},{key:"initScrollObserver",value:function(e){var t=this.throttle((function(t){if(t.target)if(t.target===document){var n=document.scrollingElement||document.documentElement;e({x:n.scrollLeft,y:n.scrollTop})}else e({x:t.target.scrollLeft,y:t.target.scrollTop})}),100);return this.on("scroll",t)}},{key:"initViewportResizeObserver",value:function(e){var t=this,n=t.throttle((function(){var n=t.getWindowHeight(),o=t.getWindowWidth();e({width:Number(o),height:Number(n)})}),200);return this.on("resize",n,window)}},{key:"mergeHooks",value:function(e,t){var n=this,o=e.mousemoveCb,r=e.mouseInteractionCb,i=e.scrollCb,s=e.viewportResizeCb,a=e.inputCb;e.mousemoveCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.mousemove&&t.mousemove.apply(t,n._spread(e)),o.apply(null,n._spread(e))},e.mouseInteractionCb=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.mouseInteraction&&t.mouseInteraction.apply(t,n._spread(e)),r.apply(null,n._spread(e))},e.scrollCb=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.scroll&&t.scroll.apply(t,n._spread(e)),i.apply(null,n._spread(e))},e.viewportResizeCb=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.viewportResize&&t.viewportResize.apply(t,n._spread(e)),s.apply(null,n._spread(e))},e.inputCb=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.input&&t.input.apply(t,n._spread(e)),a.apply(null,n._spread(e))}}},{key:"initObservers",value:function(e,t){null==t&&(t={}),this.mergeHooks(e,t);var n=this.initMoveObserver(e.mousemoveCb,e.mousemoveWait),o=this.initMouseInteractionObserver(e.mouseInteractionCb),r=this.initScrollObserver(e.scrollCb),i=this.initViewportResizeObserver(e.viewportResizeCb),s=this.initKeyboardObserver(e.keyboardCb);return function(){n(),o(),r(),i(),s()}}},{key:"wrapEvent",value:function(e){return this._assign(this._assign({},e),{timestamp:Date.now()})}},{key:"record",value:function(e){null==e&&(e={});var t=e.emit,n=e.checkoutEveryNms,o=e.hooks,r=50;if(void 0!==e.mousemoveWait&&(r=e.mousemoveWait),!t)throw new Error("emit function is required");this.polyfill();var i=void 0,s=this;function a(e,o){if(t(e,o),e.type===s.EventType.FullSnapshot)i=e;else if(e.type===s.EventType.IncrementalSnapshot){n&&e.timestamp-i.timestamp>n&&u(!0)}}function u(e){null==e&&(e=!1),a(s.wrapEvent({type:s.EventType.Meta,data:{href:window.location.href,width:s.getWindowWidth(),height:s.getWindowHeight()}}),e),a(s.wrapEvent({type:s.EventType.FullSnapshot,data:{node:{type:"Document"},initialOffset:{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}})),a(s.wrapEvent({type:s.EventType.Global,data:{globalValues:s.convertObjectChildrenToString(window)}}))}try{var c=[];c.push(s.on("DOMContentLoaded",(function(){a(s.wrapEvent({type:s.EventType.DomContentLoaded,data:{}}))})));var l=function(){u(),c.push(s.initObservers({mousemoveCb:function(e,t){return a(s.wrapEvent({type:s.EventType.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return a(s.wrapEvent({type:s.EventType.IncrementalSnapshot,data:s._assign({source:s.IncrementalSource.MouseInteraction},e)}))},scrollCb:function(e){return a(s.wrapEvent({type:s.EventType.IncrementalSnapshot,data:s._assign({source:s.IncrementalSource.Scroll},e)}))},viewportResizeCb:function(e){return a(s.wrapEvent({type:s.EventType.IncrementalSnapshot,data:s._assign({source:s.IncrementalSource.ViewportResize},e)}))},keyboardCb:function(e){return a(s.wrapEvent({type:s.EventType.IncrementalSnapshot,data:s._assign({source:s.IncrementalSource.Input},e)}))},mousemoveWait:r},o))};return"interactive"===document.readyState||"complete"===document.readyState?l():c.push(s.on("load",(function(){a(s.wrapEvent({type:s.EventType.Load,data:{}})),l()}),window)),function(){c.forEach((function(e){return e()}))}}catch(e){console.log(e)}}}]),e}(),s=function(){function e(){o(this,e),this.f=String.fromCharCode,this.n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",this.t={}}return r(e,[{key:"getBaseValue",value:function(e,t){if(!this.t[e]){this.t[e]={};for(var n=0;n<e.length;n++)this.t[e][e.charAt(n)]=n}return this.t[e][t]}},{key:"compressToBase64",value:function(e){if(null===e)return"";var t=this,n=this._compress(e,6,(function(e){return t.n.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}}},{key:"decompressFromBase64",value:function(e){if(null===e)return"";if(""===e)return null;var t=this;return this._decompress(e.length,32,(function(n){return t.getBaseValue(t.n,e.charAt(n))}))}},{key:"compress",value:function(e){var t=this;return this._compress(e,16,(function(e){return t.f(e)}))}},{key:"_compress",value:function(e,t,n){if(null===e)return"";var o,r,i,s={},a={},u="",c="",l="",p=2,h=3,f=2,v=[],d=0,y=0;for(i=0;i<e.length;i+=1)if(u=e.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=h++,a[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(s,c))l=c;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(o=0;o<f;o++)d<<=1,y===t-1?(y=0,v.push(n(d)),d=0):y++;for(r=l.charCodeAt(0),o=0;o<8;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1}else{for(r=1,o=0;o<f;o++)d=d<<1|r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r=0;for(r=l.charCodeAt(0),o=0;o<16;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1}0===--p&&(p=Math.pow(2,f),f++),delete a[l]}else for(r=s[l],o=0;o<f;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1;0===--p&&(p=Math.pow(2,f),f++),s[c]=h++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(l.charCodeAt(0)<256){for(o=0;o<f;o++)d<<=1,y===t-1?(y=0,v.push(n(d)),d=0):y++;for(r=l.charCodeAt(0),o=0;o<8;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1}else{for(r=1,o=0;o<f;o++)d=d<<1|r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r=0;for(r=l.charCodeAt(0),o=0;o<16;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1}0===--p&&(p=Math.pow(2,f),f++),delete a[l]}else for(r=s[l],o=0;o<f;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1;0===--p&&(p=Math.pow(2,f),f++)}for(r=2,o=0;o<f;o++)d=d<<1|1&r,y===t-1?(y=0,v.push(n(d)),d=0):y++,r>>=1;for(;;){if(d<<=1,y===t-1){v.push(n(d));break}y++}return v.join("")}},{key:"decompress",value:function(e){return null===e?"":""===e?null:this._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))}},{key:"_decompress",value:function(e,t,n){var o=[],r=4,i=4,s=3,a="",u=[],c=void 0,l=void 0,p=void 0,h=void 0,f=void 0,v=void 0,d=void 0,y={val:n(0),position:t,index:1};for(c=0;c<3;c+=1)o[c]=c;for(p=0,f=Math.pow(2,2),v=1;v!==f;)h=y.val&y.position,y.position>>=1,0===y.position&&(y.position=t,y.val=n(y.index++)),p|=(h>0?1:0)*v,v<<=1;switch(p){case 0:for(p=0,f=Math.pow(2,8),v=1;v!==f;)h=y.val&y.position,y.position>>=1,0===y.position&&(y.position=t,y.val=n(y.index++)),p|=(h>0?1:0)*v,v<<=1;d=this.f(p);break;case 1:for(p=0,f=Math.pow(2,16),v=1;v!==f;)h=y.val&y.position,y.position>>=1,0===y.position&&(y.position=t,y.val=n(y.index++)),p|=(h>0?1:0)*v,v<<=1;d=this.f(p);break;case 2:return""}for(o[3]=d,l=d,u.push(d);;){if(y.index>e)return"";for(p=0,f=Math.pow(2,s),v=1;v!==f;)h=y.val&y.position,y.position>>=1,0===y.position&&(y.position=t,y.val=n(y.index++)),p|=(h>0?1:0)*v,v<<=1;switch(d=p){case 0:for(p=0,f=Math.pow(2,8),v=1;v!==f;)h=y.val&y.position,y.position>>=1,0===y.position&&(y.position=t,y.val=n(y.index++)),p|=(h>0?1:0)*v,v<<=1;o[i++]=this.f(p),d=i-1,r--;break;case 1:for(p=0,f=Math.pow(2,16),v=1;v!==f;)h=y.val&y.position,y.position>>=1,0===y.position&&(y.position=t,y.val=n(y.index++)),p|=(h>0?1:0)*v,v<<=1;o[i++]=this.f(p),d=i-1,r--;break;case 2:return u.join("")}if(0===r&&(r=Math.pow(2,s),s++),o[d])a=o[d];else{if(d!==i)return null;a=l+l.charAt(0)}u.push(a),o[i++]=l+a.charAt(0),l=a,0===--r&&(r=Math.pow(2,s),s++)}}}]),e}(),a=function(){function e(){o(this,e),this.PREFIX="dcts-",this.CPR=new s}return r(e,[{key:"compressAndSplitEvent",value:function(e){if(null==e)return[];var t=this.CPR.compressToBase64(JSON.stringify(e)),n=Math.floor(t.length/3)+1;return t.match(new RegExp(".{1,"+n+"}","g"))}},{key:"processTelemetry",value:function(e,t,n){var o=this.compressAndSplitEvent(e);if(null!=o){for(var r={},i=0;i<o.length;i++)r[this.PREFIX+i]=o[i];return r["x-f-uc"]=t,r.csrf_token=n,JSON.stringify(r)}return null}},{key:"getParamPrefix",value:function(){return this.PREFIX}}]),e}(),u=function(){function e(){o(this,e),this.processor=new a,this.DEFAULT_URL="/platform-telemetry/li/gather",this.timestone=new i,this.workerThread=null,this.events=[]}return r(e,[{key:"init",value:function(e,t,n,o,r,i){var s=this;if(this.isExist(i)&&""!==i&&window.Worker){var a=this.convertWorkerUrl(i);null!==a&&(this.workerThread=new Worker(a),this.workerThread.onmessage=function(t){s.sendTelemetry(t.data,e)})}this.isExist(e)||(e=this.DEFAULT_URL);var u=0,c=6;null===o||isNaN(o)||(c=o);var l=this.timestone.record({emit:function(n,o){o&&s.events.length>0&&u<c?(s.collect(e,t,s.events,r),u+=1,s.events.splice(0,s.events.length)):u>=c&&(l(),s.isExist(s.workerThread)&&s.workerThread.terminate()),s.events.push(n)},checkoutEveryNms:n})}},{key:"collect",value:function(e,t,n,o){if(this.isExist(o)||(o=""),this.isExist(t)||(t="undefined-uc"),this.isExist(this.workerThread))this.workerThread.postMessage({events:n,useCase:t,csrfToken:o});else{var r=this.processor.processTelemetry(n,t,o);null!==r&&this.sendTelemetry(r,e)}}},{key:"collectFinalTelemetry",value:function(e,t,n){if(this.isExist(e)||(e=this.DEFAULT_URL),this.isExist(n)||(n=""),this.isExist(t)||(t="undefined-uc"),this.events.length>0)if(navigator.sendBeacon&&this.isExist(FormData)){var o=new FormData;o.append("x-f-uc",t),o.append("csrf_token",n);for(var r=this.processor.compressAndSplitEvent(this.events),i=0;i<r.length;i++)o.append(this.processor.getParamPrefix()+i,r[i]);navigator.sendBeacon(e,o)}else this.collect(e,t,this.events,"")}},{key:"sendTelemetry",value:function(e,t){var n=new XMLHttpRequest;n.open("POST",t),n.setRequestHeader("Content-Type","application/json"),n.send(e)}},{key:"isExist",value:function(e){return null!=e}},{key:"convertWorkerUrl",value:function(e){var t="https://"+window.location.host;if(0===e.indexOf(t)||0===e.indexOf("/"))return e;if(-1===e.indexOf(t)){var n=e.split(".com/");if(2===n.length)return"/"+n[1]}return null}}]),e}();function c(){var e=function(){for(var e="",t=document.cookie.split("; "),n=0;n<t.length;++n)0===t[n].indexOf("JSESSIONID=")&&t[n].length>6&&(e=t[n].substring("JSESSIONID=".length));return e}(),t=new u,n=document.querySelector('meta[name="platform-worker"]'),o=n&&n.content||"";t.init("/platform-telemetry/li/gather","fcp",5e3,20,e,o),window.addEventListener("beforeunload",(function(){t.collectFinalTelemetry("/platform-telemetry/li/gather","fcp",e)}))}c()}});